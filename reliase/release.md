# Сборка проекта
_Для выпуска программного продукта необходимо провести сборку  версии программного проекта, после которого необходимо выполнить тестирование этой версии. Чтобы собрать версию необходимо получить последние версии файлов, обновить номер версии (релиза), собрать проект и, если все пройдет успешно, выложить готовый проект для тестирования в определенное место. При этом необходимо использовать как собственные, так и сторонние библиотеки. Соответственно переход на новую версию программного продукта или одной из библиотек может вызвать множество проблем: сборка новой версии может оказаться неработоспособной и придется откатываться на старую версию и т.п. Поэтому, автоматизация процесса сборки проекта становится неотъемлемой частью процесса разработки._

## Системы сборки
 [Apache Ant](http://ant.apache.org)
стал логическим продолжением make, схожий по принципу работы инструмент, основной задачей которого была обеспечить автоматизацию процесса сборки Java приложений. Ant - это императивная командная система, созданная для кроссплатформенного применения. Изначально ant разрабатывался для сборки и компановки java-проектов.
__Maven__ 
развился в специализированную комплексную систему управления сложным процессом создания программного обеспечения и представляет собой обобщенную систему управления разработкой с огромным количеством дополнительных возможностей, применяемых в большинстве сценариев разработки ПО. Многие среды разработки приложений для языка Java обеспечивают интеграцию с этой системой.
[Подробнее](https://github.com/olgmina/SWEngineering-technics.github.io/blob/dc3f9ce353905487492117cf924badd4f23b22ff/Maven%20docs.htm)
## Задача 0 Создание fx-приложения с maven
  1. Создайте новый проект Maven (убедитесь что JDK среды разработки установлено не ниже 13 версии)
  2. Выберите __Создать__ из Аrchtype
  3. Добавить новый архтип ````groupid: org.openjfx , artifactId : javafx-maven-archetypes , version: 0.0.1````
  4. Выберите созданный архтип 
  5. Укажите идентификатор ````groupid: org.openjfx ArtifactId: hellojavafx```` 
  6. Дайте проекту имя
  7. Измените значение свойства ```archtypeArtifactId``` на ```javafx-archetype-fxml``` 
  8. Добавьте новое свойство для версии ``javafx: property javafx-version`` и ``value: 14`` [Для поиска номера версии](https://search.maven.org/)
   
нажмите кнопку __Готово__ и дождитесь построения проекта ... если что-то пошло не так Сравните с [pom.xml](https://github.com/openjfx/samples/blob/master/IDE/IntelliJ/Non-Modular/Maven/hellofx/pom.xml)

[Инструкции по работе и настройке Maven в среде разработке](https://github.com/olgmina/SWEngineering-technics.github.io/blob/ee5a610efdb507c35831b0fbd679f0e5cb46c3b7/reliase/IntelliJ-Idea-setting.md)

## Задача 1 Создание jar-файла

1. Убедитесь, что Maven создал в вашей файловой системе проект, аналогичный следующей структуре:
2. Откройте pom.xml  и обновите настройки компилятора для использования Java 15.
3. Скомпилируйте проект: ``mvn compile``
_Maven теперь проходит через все фазы жизненного цикла, которые необходимы для этой compileфазы. Он разрешает зависимости, загружает артефакт JUnit и собирает исходные коды. Он также выполняет тест JUnit._
4. Cоздать исполняемый JAR-файл из проекта. Цель packag eсоздает развертываемый файл JAR.
5. Запустите упакованную программу из командной строки или Терминала

``java -cp target/myproject-1.0-SNAPSHOT.jar myapp.App``

6. Запустите этапы тестирования жизненного цикла Maven: ``mvn test``
7. Eдалитt все артефакты сборки (папка /target/ ), используйте ``clean`` команду.

   
## Задача 2  Преобразуйте созданное fx-приложение в полноценный html-редактор

[html-редактор](https://drive.google.com/file/d/1Hwg6pga8iP3jWf0W-AsIs4jlG-AQtUai/view?usp=sharing)
Включив необходимые  зависимости, соберите релиз заново.

[Настройки среды для работы Maven](https://github.com/olgmina/SWEngineering-technics.github.io/blob/386f418275cbebf24102c265bee00fdb04a3bfbf/reliase/Maven-setting-IntellijIDEA.md)

### Задание 3  Включите в проект тесты
Добавьте тесты для покрытия основного функционала

### Задание 4  Выполните оборачивание исполняемого jar в exe-файл
1. Для управления сборкой проекта из среды разработки На странице  Runner выберите Delegate IDE build/run Actions to maven .
2. Включите плагин `maven.plugins.launch4j` в проектный `pom.xml`, который формирует исполняемый jar-файл.
В разделе <properties> определяют: наименование компании (`product.company`) и наименование исполняемого файла (`exeFileName`), а также минимальная версия jdkVersion. 
 Основные настройки плагина определяются в разделе <executions>. 
 В секции <configuration> указываются jar-файл, exe-файл (outfile) и имя иконкb исполняемого файла (icon). 
 В секции <classPath> необходимо указать главный стартуемый java-класс (mainClass).
 [Пример](https://github.com/olgmina/SWEngineering-technics.github.io/blob/d81dad5e8b539d4264005d32d6cc99a0491dda1e/pom.xml)
 
### Задание *  Используйте maven в других проектах,
1 Вы можете включить базу данных в свой проект Maven 2 в качестве зависимости:
 ```<dependency>
    <groupId>com.h2database</groupId>
    <artifactId>h2</artifactId>
    <version>1.0-SNAPSHOT</version>
</dependency>```
